# 自动视频生成工具

这是一个Python脚本，可以将一系列图片自动转换成带有缩放效果和背景音乐的视频。

## 功能特点

1. 批量处理图片
   - 按顺序读取指定目录下的所有PNG图片
   - 每次处理10张图片为一批
   - 自动按文件名排序

2. 视频特效
   - 每张图片显示2秒
   - 自动缩放效果：从100%缩放到120%
   - 平滑的动画过渡

3. 音频处理
   - 自动添加背景音乐
   - 音频长度自动匹配视频时长
   - 支持M4A格式的音频文件

4. 自动化处理
   - 自动合并所有批次的视频
   - 自动清理临时文件
   - 生成单个完整的输出视频

## 环境要求

- Python 3.x
- 依赖包：
  ```
  opencv-python==4.8.1.78
  moviepy==1.0.3
  ```

## 安装

1. 克隆仓库：
   ```bash
   git clone https://github.com/11049981/youtubepiliang.git
   cd youtubepiliang
   ```

2. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```

## 使用方法

1. 准备材料：
   - 将所有PNG格式的图片放入`演示图`文件夹
   - 将背景音乐(M4A格式)命名为`biubiubiu.m4a`并放在项目根目录

2. 运行脚本：
   ```bash
   python video_generator.py
   ```

3. 等待处理完成，最终生成的视频文件为`final_output.mp4`

## 实现细节

### 主要功能模块

1. `get_image_files()`
   - 获取并排序图片文件
   - 按批次（每批10张）返回图片列表

2. `create_video_from_images()`
   - 创建带缩放效果的视频片段
   - 实现平滑的缩放动画

3. `add_background_music()`
   - 添加背景音乐
   - 自动调整音频长度

4. `merge_videos()`
   - 合并所有批次的视频
   - 生成最终成品

### 处理流程

1. 读取图片：按顺序读取所有PNG图片
2. 创建视频：为每张图片添加2秒的缩放效果
3. 添加音频：将背景音乐添加到视频中
4. 合并处理：将所有批次的视频合并为一个
5. 清理文件：删除处理过程中的临时文件

## 注意事项

1. 确保图片为PNG格式
2. 背景音乐需要是M4A格式
3. 图片和音频文件需要放在正确的位置
4. 运行过程中会生成临时文件，脚本会自动清理

## 贡献

欢迎提交问题和改进建议！

## 许可证

MIT License 